<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>D·ª± ƒëo√°n Ung th∆∞ C·ªï t·ª≠ cung</title>
    <link rel="stylesheet" href="/static/style.css">
   
</head>
<body>
<div class="container">
    <h1>D·ª± ƒëo√°n nguy c∆° Ung th∆∞ C·ªï t·ª≠ cung</h1>
    <form method="POST">
        {% set binary_features = [
            'Smokes', 'Hormonal Contraceptives', 'IUD', 'STDs',
            'STDs:condylomatosis', 'STDs:cervical condylomatosis',
            'STDs:vaginal condylomatosis', 'STDs:vulvo-perineal condylomatosis',
            'STDs:syphilis', 'STDs:pelvic inflammatory disease',
            'STDs:genital herpes', 'STDs:molluscum contagiosum',
            'STDs:AIDS', 'STDs:HIV', 'STDs:Hepatitis B', 'STDs:HPV',
            'Dx:Cancer', 'Dx:CIN', 'Dx:HPV', 'Dx',
            'Hinselmann', 'Schiller', 'Citology'
        ] %}
        {% set label_mapping = {
            'Age': 'Tu·ªïi',
            'Number of sexual partners': 'S·ªë b·∫°n t√¨nh',
            'First sexual intercourse': 'Tu·ªïi quan h·ªá l·∫ßn ƒë·∫ßu',
            'Num of pregnancies': 'S·ªë l·∫ßn mang thai',
            'Smokes': 'C√≥ h√∫t thu·ªëc',
            'Smokes (years)': 'S·ªë nƒÉm h√∫t thu·ªëc',
            'Smokes (packs/year)': 'S·ªë g√≥i m·ªói nƒÉm',
            'Hormonal Contraceptives': 'D√πng thu·ªëc tr√°nh thai',
            'Hormonal Contraceptives (years)': 'S·ªë nƒÉm d√πng thu·ªëc tr√°nh thai',
            'IUD': 'ƒê·∫∑t v√≤ng',
            'IUD (years)': 'S·ªë nƒÉm ƒë·∫∑t v√≤ng',
            'STDs': 'T·ª´ng m·∫Øc b·ªánh STDs',
            'STDs (number)': 'S·ªë l·∫ßn m·∫Øc STDs',
            'STDs:condylomatosis': 'S√πi m√†o g√†',
            'STDs:cervical condylomatosis': 'S√πi m√†o g√† c·ªï t·ª≠ cung',
            'STDs:vaginal condylomatosis': 'S√πi m√†o g√† √¢m ƒë·∫°o',
            'STDs:vulvo-perineal condylomatosis': 'S√πi m√†o g√† √¢m h·ªô - t·∫ßng sinh m√¥n',
            'STDs:syphilis': 'B·ªánh giang mai',
            'STDs:pelvic inflammatory disease': 'Vi√™m v√πng ch·∫≠u',
            'STDs:genital herpes': 'M·ª•n r·ªôp sinh d·ª•c',
            'STDs:molluscum contagiosum': 'U m·ªÅm l√¢y',
            'STDs:AIDS': 'AIDS',
            'STDs:HIV': 'HIV',
            'STDs:Hepatitis B': 'Vi√™m gan B',
            'STDs:HPV': 'Nhi·ªÖm HPV',
            'STDs: Number of diagnosis': 'S·ªë l·∫ßn ƒë∆∞·ª£c ch·∫©n ƒëo√°n STDs',
            'STDs: Time since first diagnosis': 'Th·ªùi gian t·ª´ l·∫ßn ch·∫©n ƒëo√°n STDs ƒë·∫ßu ti√™n',
            'STDs: Time since last diagnosis': 'Th·ªùi gian t·ª´ l·∫ßn ch·∫©n ƒëo√°n STDs g·∫ßn nh·∫•t',
            'Dx:Cancer': 'T·ª´ng ƒë∆∞·ª£c ch·∫©n ƒëo√°n ung th∆∞',
            'Dx:CIN': 'T·ª´ng ƒë∆∞·ª£c ch·∫©n ƒëo√°n CIN',
            'Dx:HPV': 'T·ª´ng ƒë∆∞·ª£c ch·∫©n ƒëo√°n HPV',
            'Dx': 'T·ª´ng c√≥ ch·∫©n ƒëo√°n b·∫•t th∆∞·ªùng',
            'Hinselmann': 'K·∫øt qu·∫£ Hinselmann d∆∞∆°ng t√≠nh',
            'Schiller': 'K·∫øt qu·∫£ Schiller d∆∞∆°ng t√≠nh',
            'Citology': 'K·∫øt qu·∫£ t·∫ø b√†o h·ªçc d∆∞∆°ng t√≠nh'
        } %}

        {% for name in features %}
            <label>{{ label_mapping[name] }}</label>
            {% if name in binary_features %}
                <select name="{{ name }}" required>
                    <option value="1">C√≥</option>
                    <option value="0">Kh√¥ng</option>
                </select>
            {% else %}
                <input type="number" step="any" name="{{ name }}" required>
            {% endif %}
        {% endfor %}

        <button type="submit">D·ª± ƒëo√°n</button>
        <div class="sample-buttons">
    <button type="button" onclick="fillLowRisk()">M·∫´u Nguy c∆° Th·∫•p</button>
    <button type="button" onclick="fillHighRisk()">M·∫´u Nguy c∆° Cao</button>
</div>
    </form>

    {% if result is not none %}
        <div class="result {{ 'danger' if result == 1 else 'success' }}">
            <strong>
                {{ "üî¥ Nguy c∆° cao m·∫Øc ung th∆∞ c·ªï t·ª≠ cung!" if result == 1 else "üü¢ Kh√¥ng c√≥ nguy c∆° ƒë√°ng k·ªÉ." }}
            </strong><br>
            X√°c su·∫•t m√¥ h√¨nh d·ª± ƒëo√°n: <strong>{{ proba }}%</strong>
        </div>
    {% endif %}
</div>
<script>
function fillLowRisk() {
    const values = [
        25, 1, 18, 0, 0, 0, 0,
        1, 1, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0,
        0, 0, 0,
        0, 0, 0, 0,
        0, 0, 0
    ];
    fillForm(values);
}

function fillHighRisk() {
    const values = [
        42, 6, 15, 3, 1, 10, 5,
        0, 0, 1, 5,
        1, 2, 1, 1, 0, 0, 1, 1, 1,
        0, 0, 1, 1, 1,
        2, 6, 3,
        1, 1, 1, 1,
        1, 1, 1
    ];
    fillForm(values);
}

function fillForm(values) {
    const inputs = document.querySelectorAll("form input, form select");
    inputs.forEach((input, index) => {
        if (input.type === "number") {
            input.value = values[index];
        } else if (input.tagName === "SELECT") {
            input.value = values[index] === 1 ? "1" : "0";
        }
    });
}
</script>

</body>
</html>
